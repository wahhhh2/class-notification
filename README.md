# 班级通知系统

一个纯前端实现的实时班级通知系统，基于localStorage事件机制实现跨设备消息同步，支持消息发送、接收和已读回执功能。

## 功能特点

- ✅ **实时消息同步**：基于localStorage事件实现的消息推送
- ✅ **发送端界面**：用于创建和发送班级通知
- ✅ **接收端界面**：用于查看接收的消息
- ✅ **已读回执**：接收者可确认收到通知并反馈状态
- ✅ **纯前端实现**：无需服务器，直接在浏览器中运行
- ✅ **本地存储**：消息保存在浏览器localStorage中
- ✅ **响应式设计**：支持手机和电脑访问
- ✅ **零成本**：完全免费使用，可部署在GitHub Pages

## 快速开始

### 方法一：本地HTTP服务器
```bash
# 进入项目目录
cd /Volumes/pssd/AI/班级通知网页

# 启动HTTP服务器
python3 -m http.server 8000

# 浏览器访问发送页面: http://localhost:8000/send.html
# 浏览器访问接收页面: http://localhost:8000/receive.html
```

### 方法二：GitHub Pages
项目已部署到GitHub Pages，可通过以下链接访问：
- 发送页面: https://[username].github.io/[repository]/send.html
- 接收页面: https://[username].github.io/[repository]/receive.html

## 使用方法

### 1. 发送通知
1. 打开发送页面 (send.html)
2. 输入发送者姓名（如：班主任）
3. 输入通知内容
4. 点击"发送通知"按钮
5. 消息将实时同步到所有打开接收页面的设备

### 2. 接收通知
1. 打开接收页面 (receive.html)
2. 自动接收来自发送页面的实时通知
3. 消息按时间倒序排列显示
4. 点击"收到"按钮确认接收

## 工作流程

```
发送端输入 → 发送通知 → localStorage事件同步 → 接收端实时显示 → 接收者确认收到 → 发送端显示已读状态
```

## 技术说明

### 消息同步机制
- 基于浏览器的 `localStorage` 事件机制实现实时消息同步
- 当一个标签页修改localStorage时，其他标签页会收到事件通知
- 这种机制使得无需后端服务器即可实现页面间通信

### 消息格式
```json
{
  "id": "唯一消息ID",
  "sender": "发送者姓名",
  "message": "消息内容",
  "timestamp": "发送时间",
  "readStatus": {}
}
```

### 已读回执
- 接收者点击"收到"按钮后，会更新消息的readStatus字段
- 发送端会实时显示哪些消息已被确认收到

### 兼容性
- 支持所有现代浏览器
- 支持多个标签页/窗口同时打开
- 支持手机和电脑访问

## 文件结构

```
班级通知网页/
├── send.html            # 发送页面
├── receive.html         # 接收页面
├── app.js              # 核心JavaScript逻辑
├── styles.css          # 样式文件
├── index.html          # 入口页面（可选）
├── .nojekyll           # GitHub Pages配置文件
├── README.md           # 使用说明文档
├── 需求文档.md         # 项目需求文档
└── 技术方案.md         # 技术实现方案
```

## 使用示例

### 场景：班主任发布放假通知

1. **班主任操作：**
   - 打开发送页面 (send.html)
   - 发送者姓名输入"班主任"
   - 通知内容输入"明天全校放假一天，请同学们注意安全"
   - 点击"发送通知"按钮
   - 消息实时发送到所有打开接收页面的设备

2. **学生操作：**
   - 打开接收页面 (receive.html)
   - 自动收到班主任的通知
   - 点击"收到"按钮确认已读
   - 班主任端会实时显示该消息已被确认

## 注意事项

1. **数据安全**：消息仅保存在本地浏览器的localStorage中，不会上传到外部服务器
2. **隐私保护**：无需登录，不收集个人信息
3. **数据持久性**：关闭浏览器后，localStorage中的数据通常会保留，除非用户主动清除
4. **同步机制**：localStorage事件只在同一浏览器的不同标签页/窗口间生效，跨浏览器或跨设备需要其他解决方案

## 故障排除

### 消息无法发送
- 检查发送者姓名和消息内容是否填写
- 确认浏览器支持JavaScript和localStorage

### 消息不同步
- 确保接收页面在同一浏览器的另一个标签页/窗口中打开
- 检查localStorage是否被禁用（浏览器隐私模式可能限制localStorage功能）
- 尝试刷新接收页面

### 已读回执不更新
- 确认接收者已点击"收到"按钮
- 检查是否有JavaScript错误（可在浏览器开发者工具中查看）

## 特色功能

- **实时消息同步**：基于localStorage事件的消息推送机制
- **已读状态追踪**：可查看哪些消息已被确认收到
- **响应式设计**：适配不同屏幕尺寸的设备
- **直观界面**：简洁明了的发送和接收界面
- **纯前端实现**：无需服务器支持，可轻松部署到GitHub Pages

## 扩展建议

如需更多功能，可考虑：
- 消息分类标记（紧急、重要）
- 消息搜索和过滤
- 消息导出功能
- 添加消息过期机制
- 跨浏览器/设备消息同步（需引入后端服务）

---

**开发完成** 🎉 现在你可以开始使用这个班级通知系统了！